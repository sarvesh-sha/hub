<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Optio3 - IoT Under Control</title>
    <script src="https://connectors.tableau.com/libs/tableauwdc-2.3.latest.js" type="text/javascript"></script>
    <script type="text/javascript">
        var connector = tableau.makeConnector();

        function waitForLoad(callback)
        {
            if (window.optio3Connector)
            {
                callback();
            }
            else
            {
                setTimeout(function ()
                           {
                               waitForLoad(callback);
                           }, 200);
            }
        }

        connector.init = function (initCallback)
        {
            waitForLoad(function ()
                        {
                            window.optio3Connector.init(initCallback);
                        });
        };

        connector.getData = function (table,
                                      done)
        {
            waitForLoad(function ()
                        {
                            window.optio3Connector.getData(table, done);
                        });
        };

        connector.getSchema = function (callback)
        {
            waitForLoad(function ()
                        {
                            window.optio3Connector.getSchema(callback);
                        });
        };
        tableau.registerConnector(connector);
    </script>
</head>
<body>
<!--Start: App Rendering-->
<o3-app>
</o3-app>
<!--End: App Rendering-->
</body>
</html>
